<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‰è§’å½¢æŒ‰è§’åˆ†ç±»äº’åŠ¨å®éªŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7fa 0%, #f9fbe7 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #00695c;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .subtitle {
            color: #4db6ac;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }
        
        .content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .canvas-container {
            flex: 1;
            min-width: 500px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .info-panel {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        canvas {
            display: block;
            margin: 0 auto;
            background: #fafafa;
            border-radius: 10px;
            cursor: pointer;
        }
        
        h2 {
            color: #00796b;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #b2dfdb;
        }
        
        .triangle-info {
            margin-bottom: 25px;
        }
        
        .triangle-type {
            font-size: 1.8rem;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
            transition: all 0.3s ease;
        }
        
        .acute {
            background: #c8e6c9;
            color: #2e7d32;
        }
        
        .right {
            background: #bbdefb;
            color: #1565c0;
        }
        
        .obtuse {
            background: #ffcdd2;
            color: #c62828;
        }
        
        .angle-list {
            list-style-type: none;
            margin-top: 15px;
        }
        
        .angle-list li {
            padding: 12px 0;
            border-bottom: 1px dashed #e0e0e0;
            display: flex;
            align-items: center;
        }
        
        .angle-label {
            font-size: 1.1rem;
            width: 50px;
        }
        
        .angle-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #d84315;
        }
        
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.95rem;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #4db6ac;
            color: white;
        }
        
        .btn-primary:hover {
            background: #26a69a;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #90a4ae;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #78909c;
            transform: translateY(-2px);
        }
        
        .btn-icon {
            font-size: 1.2rem;
        }
        
        .decorations {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .decoration {
            position: absolute;
            opacity: 0.2;
        }
        
        .triangle-decoration {
            width: 60px;
            height: 60px;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 52px solid #4db6ac;
        }
        
        .circle-decoration {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ffb74d;
        }
        
        .square-decoration {
            width: 35px;
            height: 35px;
            background: #ba68c8;
            transform: rotate(45deg);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .content {
                flex-direction: column;
            }
            
            .canvas-container, .info-panel {
                min-width: 100%;
            }
            
            .controls {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ä¸‰è§’å½¢æŒ‰è§’åˆ†ç±»äº’åŠ¨å®éªŒ</h1>
            <p class="subtitle">æ‹–åŠ¨é¡¶ç‚¹è§‚å¯Ÿä¸‰è§’å½¢ç±»å‹çš„å˜åŒ–ï¼Œç†è§£é”è§’ä¸‰è§’å½¢ã€ç›´è§’ä¸‰è§’å½¢å’Œé’è§’ä¸‰è§’å½¢çš„ç‰¹å¾</p>
        </header>
        
        <div class="content">
            <div class="canvas-container">
                <div class="decorations">
                    <!-- è£…é¥°å…ƒç´  -->
                    <div class="decoration triangle-decoration" style="top: 10%; left: 5%;"></div>
                    <div class="decoration circle-decoration" style="top: 15%; right: 10%;"></div>
                    <div class="decoration square-decoration" style="bottom: 10%; left: 15%;"></div>
                    <div class="decoration circle-decoration" style="bottom: 20%; right: 5%;"></div>
                </div>
                <canvas id="triangleCanvas" width="500" height="400"></canvas>
            </div>
            
            <div class="info-panel">
                <h2>ä¸‰è§’å½¢ä¿¡æ¯</h2>
                <div class="triangle-info">
                    <p>å½“å‰ä¸‰è§’å½¢ç±»å‹ï¼š</p>
                    <div id="triangleType" class="triangle-type acute">é”è§’ä¸‰è§’å½¢</div>
                    
                    <p>ä¸‰ä¸ªå†…è§’çš„åº¦æ•°ï¼š</p>
                    <ul class="angle-list">
                        <li><span class="angle-label">âˆ A:</span> <span id="angleA" class="angle-value">60.0Â°</span></li>
                        <li><span class="angle-label">âˆ B:</span> <span id="angleB" class="angle-value">60.0Â°</span></li>
                        <li><span class="angle-label">âˆ C:</span> <span id="angleC" class="angle-value">60.0Â°</span></li>
                    </ul>
                </div>
                
                <div class="controls">
                    <button id="rightTriangleBtn" class="btn btn-primary">
                        <span class="btn-icon">ğŸ“</span> ç”Ÿæˆç›´è§’ä¸‰è§’å½¢
                    </button>
                    <button id="isoscelesRightBtn" class="btn btn-primary">
                        <span class="btn-icon">ğŸ”º</span> ç”Ÿæˆç­‰è…°ç›´è§’ä¸‰è§’å½¢
                    </button>
                    <button id="resetBtn" class="btn btn-secondary">
                        <span class="btn-icon">â†º</span> é‡ç½®ä¸‰è§’å½¢
                    </button>
                </div>
                
                <div class="instructions">
                    <h3>æ“ä½œæŒ‡å—ï¼š</h3>
                    <p>1. æ‹–åŠ¨ä¸‰è§’å½¢çš„ä¸‰ä¸ªé¡¶ç‚¹æ¥æ”¹å˜å…¶å½¢çŠ¶</p>
                    <p>2. ä½¿ç”¨æŒ‰é’®å¿«é€Ÿç”Ÿæˆç‰¹å®šç±»å‹çš„ä¸‰è§’å½¢</p>
                    <p>3. è§‚å¯Ÿä¸‰è§’å½¢ç±»å‹éšè§’åº¦å˜åŒ–çš„æƒ…å†µ</p>
                    <p>4. æ³¨æ„ä¸‰ç§ä¸‰è§’å½¢ç±»å‹çš„è§’åº¦ç‰¹å¾ï¼š</p>
                    <ul>
                        <li><strong>é”è§’ä¸‰è§’å½¢</strong>ï¼šä¸‰ä¸ªè§’éƒ½å°äº90Â°</li>
                        <li><strong>ç›´è§’ä¸‰è§’å½¢</strong>ï¼šæœ‰ä¸€ä¸ªè§’ç­‰äº90Â°</li>
                        <li><strong>é’è§’ä¸‰è§’å½¢</strong>ï¼šæœ‰ä¸€ä¸ªè§’å¤§äº90Â°</li>
                    </ul>
                    <p>5. <strong>ç­‰è…°ç›´è§’ä¸‰è§’å½¢</strong>ï¼šæ—¢æ˜¯ç›´è§’ä¸‰è§’å½¢åˆæ˜¯ç­‰è…°ä¸‰è§’å½¢ï¼Œä¸¤ä¸ªé”è§’éƒ½æ˜¯45Â°</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>æ•°å­¦è¯¾å ‚äº’åŠ¨æ¼”ç¤º | ä¸‰è§’å½¢æŒ‰è§’åˆ†ç±»å®éªŒ</p>
        </footer>
    </div>

    <script>
        // è·å–Canvaså…ƒç´ å’Œä¸Šä¸‹æ–‡
        const canvas = document.getElementById('triangleCanvas');
        const ctx = canvas.getContext('2d');
        
        // ä¸‰è§’å½¢é¡¶ç‚¹åæ ‡ï¼ˆåˆå§‹ä¸ºç­‰è¾¹ä¸‰è§’å½¢ï¼‰
        let points = [
            { x: 250, y: 100 },  // é¡¶ç‚¹A
            { x: 150, y: 300 },  // é¡¶ç‚¹B
            { x: 350, y: 300 }   // é¡¶ç‚¹C
        ];
        
        // å½“å‰æ‹–åŠ¨çš„é¡¶ç‚¹ç´¢å¼•
        let draggingIndex = -1;
        
        // è®¡ç®—ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»
        function distance(x1, y1, x2, y2) {
            return Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
        }
        
        // è®¡ç®—è§’åº¦ï¼ˆä½¿ç”¨ä½™å¼¦å®šç†ï¼‰
        function calculateAngle(a, b, c) {
            // a, b, c æ˜¯ä¸‰è§’å½¢çš„ä¸‰è¾¹é•¿åº¦
            return Math.acos((b * b + c * c - a * a) / (2 * b * c)) * (180 / Math.PI);
        }
        
        // è®¡ç®—ä¸‰è§’å½¢çš„ä¸‰ä¸ªè§’åº¦
        function calculateAngles() {
            const a = distance(points[1].x, points[1].y, points[2].x, points[2].y); // è¾¹a (BC)
            const b = distance(points[0].x, points[0].y, points[2].x, points[2].y); // è¾¹b (AC)
            const c = distance(points[0].x, points[0].y, points[1].x, points[1].y); // è¾¹c (AB)
            
            const angleA = calculateAngle(a, b, c); // è§’A
            const angleB = calculateAngle(b, a, c); // è§’B
            const angleC = calculateAngle(c, a, b); // è§’C
            
            return { angleA, angleB, angleC };
        }
        
        // ç¡®å®šä¸‰è§’å½¢ç±»å‹
        function determineTriangleType(angles) {
            // ä½¿ç”¨ä¸€ä¸ªå°å®¹å·®æ¥æ£€æµ‹ç›´è§’ï¼ˆé¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼‰
            const tolerance = 0.5;
            
            if (Math.abs(angles.angleA - 90) < tolerance || 
                Math.abs(angles.angleB - 90) < tolerance || 
                Math.abs(angles.angleC - 90) < tolerance) {
                return { type: 'right', name: 'ç›´è§’ä¸‰è§’å½¢' };
            } else if (angles.angleA > 90 || angles.angleB > 90 || angles.angleC > 90) {
                return { type: 'obtuse', name: 'é’è§’ä¸‰è§’å½¢' };
            } else {
                return { type: 'acute', name: 'é”è§’ä¸‰è§’å½¢' };
            }
        }
        
        // æ›´æ–°æ˜¾ç¤ºä¿¡æ¯
        function updateInfo() {
            const angles = calculateAngles();
            const triangleType = determineTriangleType(angles);
            
            // æ›´æ–°è§’åº¦æ˜¾ç¤º
            document.getElementById('angleA').textContent = angles.angleA.toFixed(1) + 'Â°';
            document.getElementById('angleB').textContent = angles.angleB.toFixed(1) + 'Â°';
            document.getElementById('angleC').textContent = angles.angleC.toFixed(1) + 'Â°';
            
            // æ›´æ–°ä¸‰è§’å½¢ç±»å‹æ˜¾ç¤º
            const typeElement = document.getElementById('triangleType');
            typeElement.textContent = triangleType.name;
            typeElement.className = 'triangle-type ' + triangleType.type;
        }
        
        // ç»˜åˆ¶ä¸‰è§’å½¢
        function drawTriangle() {
            // æ¸…é™¤ç”»å¸ƒ
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // ç»˜åˆ¶ä¸‰è§’å½¢å¡«å……
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            ctx.lineTo(points[1].x, points[1].y);
            ctx.lineTo(points[2].x, points[2].y);
            ctx.closePath();
            ctx.fillStyle = 'rgba(77, 182, 172, 0.3)';
            ctx.fill();
            
            // ç»˜åˆ¶ä¸‰è§’å½¢è¾¹æ¡†
            ctx.beginPath();
            ctx.moveTo(points[0].x, points[0].y);
            ctx.lineTo(points[1].x, points[1].y);
            ctx.lineTo(points[2].x, points[2].y);
            ctx.closePath();
            ctx.strokeStyle = '#00796b';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // ç»˜åˆ¶é¡¶ç‚¹å’Œæ ‡ç­¾
            const labels = ['A', 'B', 'C'];
            points.forEach((point, index) => {
                // ç»˜åˆ¶é¡¶ç‚¹
                ctx.beginPath();
                ctx.arc(point.x, point.y, 8, 0, Math.PI * 2);
                ctx.fillStyle = '#00796b';
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // ç»˜åˆ¶æ ‡ç­¾
                ctx.font = 'bold 16px Arial';
                ctx.fillStyle = '#00796b';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                // æ ¹æ®é¡¶ç‚¹ä½ç½®è°ƒæ•´æ ‡ç­¾ä½ç½®
                let offsetX = 0, offsetY = 0;
                if (index === 0) offsetY = -25; // é¡¶ç‚¹Aåœ¨ä¸Šæ–¹
                else if (index === 1) offsetX = -25; // é¡¶ç‚¹Båœ¨å·¦ä¾§
                else offsetX = 25; // é¡¶ç‚¹Cåœ¨å³ä¾§
                
                ctx.fillText(labels[index], point.x + offsetX, point.y + offsetY);
            });
            
            // ç»˜åˆ¶è§’åº¦æ ‡æ³¨
            const angles = calculateAngles();
            const angleLabels = [
                { x: points[0].x - 20, y: points[0].y + 25, angle: angles.angleA.toFixed(1) + 'Â°' },
                { x: points[1].x + 20, y: points[1].y - 20, angle: angles.angleB.toFixed(1) + 'Â°' },
                { x: points[2].x - 20, y: points[2].y - 20, angle: angles.angleC.toFixed(1) + 'Â°' }
            ];
            
            ctx.font = '14px Arial';
            ctx.fillStyle = '#d84315';
            angleLabels.forEach(label => {
                ctx.fillText(label.angle, label.x, label.y);
            });
        }
        
        // ç”Ÿæˆç›´è§’ä¸‰è§’å½¢
        function createRightTriangle() {
            // è®¾ç½®ä¸€ä¸ªç›´è§’ä¸‰è§’å½¢ï¼Œç›´è§’åœ¨Bç‚¹
            points = [
                { x: 200, y: 100 },  // é¡¶ç‚¹A
                { x: 200, y: 300 },  // é¡¶ç‚¹Bï¼ˆç›´è§’é¡¶ç‚¹ï¼‰
                { x: 350, y: 300 }   // é¡¶ç‚¹C
            ];
            
            drawTriangle();
            updateInfo();
        }
        
        // ç”Ÿæˆç­‰è…°ç›´è§’ä¸‰è§’å½¢
        function createIsoscelesRightTriangle() {
            // è®¾ç½®ä¸€ä¸ªç­‰è…°ç›´è§’ä¸‰è§’å½¢ï¼Œç›´è§’åœ¨Bç‚¹ï¼ŒAB = BC
            const sideLength = 150; // ç­‰è…°ç›´è§’ä¸‰è§’å½¢çš„ç›´è§’è¾¹é•¿åº¦
            
            points = [
                { x: 200, y: 100 },                      // é¡¶ç‚¹A
                { x: 200, y: 100 + sideLength },         // é¡¶ç‚¹Bï¼ˆç›´è§’é¡¶ç‚¹ï¼‰
                { x: 200 + sideLength, y: 100 + sideLength }  // é¡¶ç‚¹C
            ];
            
            drawTriangle();
            updateInfo();
        }
        
        // é‡ç½®ä¸‰è§’å½¢
        function resetTriangle() {
            points = [
                { x: 250, y: 100 },  // é¡¶ç‚¹A
                { x: 150, y: 300 },  // é¡¶ç‚¹B
                { x: 350, y: 300 }   // é¡¶ç‚¹C
            ];
            
            drawTriangle();
            updateInfo();
        }
        
        // é¼ æ ‡äº‹ä»¶å¤„ç†
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            // æ£€æŸ¥æ˜¯å¦ç‚¹å‡»äº†é¡¶ç‚¹
            for (let i = 0; i < points.length; i++) {
                if (distance(x, y, points[i].x, points[i].y) < 15) {
                    draggingIndex = i;
                    break;
                }
            }
        });
        
        canvas.addEventListener('mousemove', (e) => {
            if (draggingIndex !== -1) {
                const rect = canvas.getBoundingClientRect();
                points[draggingIndex].x = e.clientX - rect.left;
                points[draggingIndex].y = e.clientY - rect.top;
                
                // é™åˆ¶é¡¶ç‚¹åœ¨ç”»å¸ƒèŒƒå›´å†…
                points[draggingIndex].x = Math.max(10, Math.min(canvas.width - 10, points[draggingIndex].x));
                points[draggingIndex].y = Math.max(10, Math.min(canvas.height - 10, points[draggingIndex].y));
                
                drawTriangle();
                updateInfo();
            }
        });
        
        canvas.addEventListener('mouseup', () => {
            draggingIndex = -1;
        });
        
        canvas.addEventListener('mouseleave', () => {
            draggingIndex = -1;
        });
        
        // æŒ‰é’®äº‹ä»¶ç›‘å¬
        document.getElementById('rightTriangleBtn').addEventListener('click', createRightTriangle);
        document.getElementById('isoscelesRightBtn').addEventListener('click', createIsoscelesRightTriangle);
        document.getElementById('resetBtn').addEventListener('click', resetTriangle);
        
        // åˆå§‹åŒ–
        drawTriangle();
        updateInfo();
    </script>
</body>
</html>